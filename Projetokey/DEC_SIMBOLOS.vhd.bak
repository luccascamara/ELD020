LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.STD_LOGIC_ARITH.ALL;
USE IEEE.STD_LOGIC_UNSIGNED.ALL;

ENTITY DEC_SIMBOLOS IS
    PORT (
        Q  : IN  STD_LOGIC_VECTOR(3 DOWNTO 0);  -- Entrada do contador TVP (4 bits)
        VDP: IN  STD_LOGIC;                     -- Sinal verde de pedestre
        H  : OUT STD_LOGIC_VECTOR(6 DOWNTO 0)   -- Saída para display HEX5 (anodo comum)
    );
END DEC_SIMBOLOS;

ARCHITECTURE Behavior OF DEC_SIMBOLOS IS
    SIGNAL alterna : STD_LOGIC := '0';
BEGIN
    PROCESS(Q, VDP)
    BEGIN
        IF (VDP = '0') THEN
            -- Mostra a letra "P" (pedestre parado)
            -- 7 segmentos (anodo comum): g f e d c b a
            -- Letra P = segmentos acesos: a, b, e, f, g  → "0111000"
            H <= "0111000";
        ELSE
            -- VDP = 1 → alterna os símbolos de pedestre andando
            -- Símbolos simétricos (exemplo: alternância entre “> <”)
            IF (Q(0) = '0') THEN
                -- Símbolo 1
                -- Exemplo: segmentos acesos a, c, e, f, g → "0100110"
                H <= "0100110";
            ELSE
                -- Símbolo 2 (simétrico)
                -- Exemplo: segmentos acesos a, b, d, e, g → "0011010"
                H <= "0011010";
            END IF;
        END IF;
    END PROCESS;
END Behavior;
